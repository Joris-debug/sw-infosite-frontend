{"ast":null,"code":"import _slicedToArray from\"C:/Users/joris/Documents/Ninjaneers/Bessere_Star_Wars_Infosite/sw-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import classes from\"./ElementList.module.css\";import classes2 from\"./AllSpaceships.module.css\";import DisplayVehicle from\"../layout/user interface/DisplayVehicle\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AllShipsPage(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),loadedVehicles=_useState4[0],setLoadedVehicles=_useState4[1];var _useState5=useState(window.location.href.split('/')[4]),_useState6=_slicedToArray(_useState5,2),pageCount=_useState6[0],setPageCount=_useState6[1];var _useState7=useState('ships'),_useState8=_slicedToArray(_useState7,2),vehicleShipSwitch=_useState8[0],setVehicleShipSwitch=_useState8[1];useEffect(function(){setIsLoading(true);fetch(\"http://localhost:3001/transportList/\".concat(vehicleShipSwitch,\"/\").concat(pageCount)).then(function(response){return response.json();}).then(function(data){setIsLoading(false);setLoadedVehicles(data);});},[pageCount,vehicleShipSwitch]);if(isLoading){return/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"loading...\"})});}var handleChange=function handleChange(event){setVehicleShipSwitch(event.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:classes.List,children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Page: \",pageCount]}),/*#__PURE__*/_jsx(\"div\",{className:classes2.radioForm,children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Select what you're searching for:\"}),/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:classes2.bundle,children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"ship\",name:\"showMode\",value:\"ships\",onChange:handleChange,checked:vehicleShipSwitch==='ships'}),/*#__PURE__*/_jsx(\"label\",{for:\"ship\",children:\" Ships\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes2.bundle,children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"vehi\",name:\"showMode\",value:\"vehicles\",onChange:handleChange,checked:vehicleShipSwitch==='vehicles'}),/*#__PURE__*/_jsx(\"label\",{for:\"vehi\",children:\" Vehicles\"})]})]})]})}),loadedVehicles.result.map(function(vehicle){return/*#__PURE__*/_jsx(DisplayVehicle,{vehicle:vehicle});}),/*#__PURE__*/_jsxs(\"div\",{className:classes.buttonContainer,children:[/*#__PURE__*/_jsx(\"button\",{onClick:previousPageHandler,children:\"Previous Page\"}),/*#__PURE__*/_jsx(\"button\",{onClick:nextPageHandler,children:\"Next Page\"})]})]});function previousPageHandler(){if(Number(pageCount)>1)setPageCount(Number(pageCount)-1);}function nextPageHandler(){if(Number(pageCount)*10<loadedVehicles.count)setPageCount(Number(pageCount)+1);}}export default AllShipsPage;","map":{"version":3,"names":["useState","useEffect","classes","classes2","DisplayVehicle","AllShipsPage","isLoading","setIsLoading","loadedVehicles","setLoadedVehicles","window","location","href","split","pageCount","setPageCount","vehicleShipSwitch","setVehicleShipSwitch","fetch","then","response","json","data","handleChange","event","target","value","List","radioForm","bundle","result","map","vehicle","buttonContainer","previousPageHandler","nextPageHandler","Number","count"],"sources":["C:/Users/joris/Documents/Ninjaneers/Bessere_Star_Wars_Infosite/sw-app/src/pages/AllSpaceships.js"],"sourcesContent":["import {useState, useEffect} from \"react\";\r\nimport classes from \"./ElementList.module.css\"\r\nimport classes2 from \"./AllSpaceships.module.css\"\r\nimport DisplayVehicle from \"../layout/user interface/DisplayVehicle\";\r\n\r\nfunction AllShipsPage() {\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [loadedVehicles, setLoadedVehicles] = useState({});\r\n    const [pageCount, setPageCount] = useState(((window.location.href.split('/'))[4]));\r\n    const [vehicleShipSwitch, setVehicleShipSwitch] = useState('ships')\r\n    \r\n    useEffect(() => {\r\n        setIsLoading(true)\r\n        fetch(`http://localhost:3001/transportList/${vehicleShipSwitch}/${pageCount}`\r\n        ).then(response => {\r\n            return response.json();\r\n        }).then(data => {\r\n\r\n            setIsLoading(false)\r\n            setLoadedVehicles(data)\r\n        })\r\n    }, [pageCount, vehicleShipSwitch])\r\n\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <section>\r\n                <p>loading...</p>\r\n            </section>\r\n        )\r\n    }\r\n    \r\n    const handleChange = event => {\r\n        setVehicleShipSwitch(event.target.value);\r\n    }\r\n\r\n    \r\n\r\n    return (\r\n        <div className={classes.List}>\r\n            <h1>Page: {pageCount}</h1>\r\n            <div className={classes2.radioForm}>       \r\n                <form>\r\n                    <p>Select what you're searching for:</p>\r\n                    <fieldset>\r\n                        <div className={classes2.bundle}>\r\n                            <input type=\"radio\" id=\"ship\" name=\"showMode\" value=\"ships\" onChange={handleChange} checked={vehicleShipSwitch === 'ships'}/>\r\n                            <label for=\"ship\"> Ships</label>\r\n                        </div>\r\n                        <div className={classes2.bundle}>\r\n                            <input type=\"radio\" id=\"vehi\" name=\"showMode\" value=\"vehicles\" onChange={handleChange} checked={vehicleShipSwitch === 'vehicles'}/>\r\n                            <label for=\"vehi\"> Vehicles</label>\r\n                        </div>\r\n                    </fieldset>\r\n                </form>\r\n            </div>\r\n\r\n            {loadedVehicles.result.map(vehicle =>\r\n                <DisplayVehicle vehicle={vehicle}/>\r\n            )}\r\n            <div className={classes.buttonContainer}>\r\n                <button onClick={previousPageHandler}>Previous Page</button>\r\n                <button onClick={nextPageHandler}>Next Page</button>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    function previousPageHandler(){\r\n        if(Number(pageCount) > 1)\r\n            setPageCount(Number(pageCount) - 1);\r\n    }\r\n    function nextPageHandler(){\r\n        if(Number(pageCount) * 10 < loadedVehicles.count)\r\n            setPageCount(Number(pageCount) + 1);\r\n    }       \r\n    \r\n}\r\n\r\nexport default AllShipsPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}