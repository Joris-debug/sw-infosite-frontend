{"ast":null,"code":"import _slicedToArray from\"C:/Users/joris/Documents/Ninjaneers/Bessere_Star_Wars_Infosite/sw-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import classes from\"./ElementList.module.css\";import DisplayPlanet from\"../layout/user interface/DisplayPlanet\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AllPlanetsPage(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),loadedPlanets=_useState4[0],setLoadedPlanets=_useState4[1];var _useState5=useState(window.location.href.split('/')[4]),_useState6=_slicedToArray(_useState5,2),pageCount=_useState6[0],setPageCount=_useState6[1];useEffect(function(){setIsLoading(true);fetch(\"http://localhost:3001/planetList/\".concat(pageCount)).then(function(response){return response.json();}).then(function(data){setIsLoading(false);setLoadedPlanets(data);});},[pageCount]);if(isLoading){return/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"loading...\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:classes.List,children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Page: \",pageCount]}),loadedPlanets.result.map(function(planet){return/*#__PURE__*/_jsx(DisplayPlanet,{planet:planet});}),/*#__PURE__*/_jsxs(\"div\",{className:classes.buttonContainer,children:[/*#__PURE__*/_jsx(\"button\",{onClick:previousPageHandler,children:\"Previous Page\"}),/*#__PURE__*/_jsx(\"button\",{onClick:nextPageHandler,children:\"Next Page\"})]})]});function previousPageHandler(){if(Number(pageCount)>1)setPageCount(Number(pageCount)-1);}function nextPageHandler(){if(Number(pageCount)*10<loadedPlanets.count)setPageCount(Number(pageCount)+1);}}export default AllPlanetsPage;","map":{"version":3,"names":["useState","useEffect","classes","DisplayPlanet","AllPlanetsPage","isLoading","setIsLoading","loadedPlanets","setLoadedPlanets","window","location","href","split","pageCount","setPageCount","fetch","then","response","json","data","List","result","map","planet","buttonContainer","previousPageHandler","nextPageHandler","Number","count"],"sources":["C:/Users/joris/Documents/Ninjaneers/Bessere_Star_Wars_Infosite/sw-app/src/pages/AllPlanets.js"],"sourcesContent":["import {useState, useEffect} from \"react\";\r\nimport classes from \"./ElementList.module.css\"\r\nimport DisplayPlanet from \"../layout/user interface/DisplayPlanet\";\r\n\r\nfunction AllPlanetsPage() {\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [loadedPlanets, setLoadedPlanets] = useState({});\r\n    const [pageCount, setPageCount] = useState(((window.location.href.split('/'))[4]));\r\n    \r\n    useEffect(() => {\r\n        setIsLoading(true)\r\n        fetch(`http://localhost:3001/planetList/${pageCount}`\r\n        ).then(response => {\r\n            return response.json();\r\n        }).then(data => {\r\n\r\n            setIsLoading(false)\r\n            setLoadedPlanets(data)\r\n        })\r\n    }, [pageCount])\r\n\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <section>\r\n                <p>loading...</p>\r\n            </section>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className={classes.List}>\r\n            <h1>Page: {pageCount}</h1>\r\n            {loadedPlanets.result.map(planet =>\r\n                <DisplayPlanet planet={planet}/>\r\n            )}\r\n            <div className={classes.buttonContainer}>\r\n                <button onClick={previousPageHandler}>Previous Page</button>\r\n                <button onClick={nextPageHandler}>Next Page</button>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    function previousPageHandler(){\r\n        if(Number(pageCount) > 1)\r\n            setPageCount(Number(pageCount) - 1);\r\n    }\r\n    function nextPageHandler(){\r\n        if(Number(pageCount) * 10 < loadedPlanets.count)\r\n            setPageCount(Number(pageCount) + 1);\r\n    }\r\n}\r\n\r\nexport default AllPlanetsPage;\r\n"],"mappings":"2JAAA,OAAQA,QAAR,CAAkBC,SAAlB,KAAkC,OAAlC,CACA,MAAOC,QAAP,KAAoB,0BAApB,CACA,MAAOC,cAAP,KAA0B,wCAA1B,C,wFAEA,QAASC,eAAT,EAA0B,CACtB,cAAkCJ,QAAQ,CAAC,IAAD,CAA1C,wCAAOK,SAAP,eAAkBC,YAAlB,eACA,eAA0CN,QAAQ,CAAC,EAAD,CAAlD,yCAAOO,aAAP,eAAsBC,gBAAtB,eACA,eAAkCR,QAAQ,CAAGS,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,GAA3B,CAAD,CAAkC,CAAlC,CAAF,CAA1C,yCAAOC,SAAP,eAAkBC,YAAlB,eAEAb,SAAS,CAAC,UAAM,CACZK,YAAY,CAAC,IAAD,CAAZ,CACAS,KAAK,4CAAqCF,SAArC,EAAL,CACEG,IADF,CACO,SAAAC,QAAQ,CAAI,CACf,MAAOA,SAAQ,CAACC,IAAT,EAAP,CACH,CAHD,EAGGF,IAHH,CAGQ,SAAAG,IAAI,CAAI,CAEZb,YAAY,CAAC,KAAD,CAAZ,CACAE,gBAAgB,CAACW,IAAD,CAAhB,CACH,CAPD,EAQH,CAVQ,CAUN,CAACN,SAAD,CAVM,CAAT,CAaA,GAAIR,SAAJ,CAAe,CACX,mBACI,sCACI,iCADJ,EADJ,CAKH,CAED,mBACI,aAAK,SAAS,CAAEH,OAAO,CAACkB,IAAxB,wBACI,+BAAWP,SAAX,GADJ,CAEKN,aAAa,CAACc,MAAd,CAAqBC,GAArB,CAAyB,SAAAC,MAAM,qBAC5B,KAAC,aAAD,EAAe,MAAM,CAAEA,MAAvB,EAD4B,EAA/B,CAFL,cAKI,aAAK,SAAS,CAAErB,OAAO,CAACsB,eAAxB,wBACI,eAAQ,OAAO,CAAEC,mBAAjB,2BADJ,cAEI,eAAQ,OAAO,CAAEC,eAAjB,uBAFJ,GALJ,GADJ,CAaA,QAASD,oBAAT,EAA8B,CAC1B,GAAGE,MAAM,CAACd,SAAD,CAAN,CAAoB,CAAvB,CACIC,YAAY,CAACa,MAAM,CAACd,SAAD,CAAN,CAAoB,CAArB,CAAZ,CACP,CACD,QAASa,gBAAT,EAA0B,CACtB,GAAGC,MAAM,CAACd,SAAD,CAAN,CAAoB,EAApB,CAAyBN,aAAa,CAACqB,KAA1C,CACId,YAAY,CAACa,MAAM,CAACd,SAAD,CAAN,CAAoB,CAArB,CAAZ,CACP,CACJ,CAED,cAAeT,eAAf"},"metadata":{},"sourceType":"module"}