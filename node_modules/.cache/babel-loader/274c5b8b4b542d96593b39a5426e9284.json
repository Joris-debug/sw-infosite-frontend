{"ast":null,"code":"import _slicedToArray from\"C:/Users/joris/Documents/Ninjaneers/Bessere_Star_Wars_Infosite/sw-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import DisplayCharacter from\"../layout/user interface/DisplayCharacter\";import classes from\"./ElementList.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AllCharactersPage(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),loadedCharacters=_useState4[0],setLoadedCharacters=_useState4[1];var _useState5=useState(window.location.href.split('/')[4]),_useState6=_slicedToArray(_useState5,2),pageCount=_useState6[0],setPageCount=_useState6[1];useEffect(function(){setIsLoading(true);fetch(\"http://localhost:3001/characterList/\".concat(pageCount)).then(function(response){return response.json();}).then(function(data){setIsLoading(false);setLoadedCharacters(data);});},[pageCount]);if(isLoading){return/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"loading...\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:classes.List,children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Page: \",pageCount]}),loadedCharacters.result.map(function(character){return/*#__PURE__*/_jsx(DisplayCharacter,{character:character});}),/*#__PURE__*/_jsxs(\"div\",{className:classes.buttonContainer,children:[/*#__PURE__*/_jsx(\"button\",{onClick:previousPageHandler,children:\"previous page\"}),/*#__PURE__*/_jsx(\"button\",{onClick:nextPageHandler,children:\"next page\"})]})]});function previousPageHandler(){if(Number(pageCount)>1)setPageCount(Number(pageCount)-1);}function nextPageHandler(){if(Number(pageCount)*10<loadedCharacters.count)setPageCount(Number(pageCount)+1);}}export default AllCharactersPage;","map":{"version":3,"names":["useState","useEffect","DisplayCharacter","classes","AllCharactersPage","isLoading","setIsLoading","loadedCharacters","setLoadedCharacters","window","location","href","split","pageCount","setPageCount","fetch","then","response","json","data","List","result","map","character","buttonContainer","previousPageHandler","nextPageHandler","Number","count"],"sources":["C:/Users/joris/Documents/Ninjaneers/Bessere_Star_Wars_Infosite/sw-app/src/pages/AllCharacters.js"],"sourcesContent":["import {useState, useEffect} from \"react\";\r\nimport DisplayCharacter from \"../layout/user interface/DisplayCharacter\";\r\nimport classes from \"./ElementList.module.css\"\r\n\r\nfunction AllCharactersPage() {\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [loadedCharacters, setLoadedCharacters] = useState({});\r\n    const [pageCount, setPageCount] = useState(((window.location.href.split('/'))[4]));\r\n\r\n    useEffect(() => {\r\n        setIsLoading(true)\r\n        fetch(`http://localhost:3001/characterList/${pageCount}`\r\n        ).then(response => {\r\n            return response.json();\r\n        }).then(data => {\r\n\r\n            setIsLoading(false)\r\n            setLoadedCharacters(data)\r\n        })\r\n    }, [pageCount])\r\n\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <section>\r\n                <p>loading...</p>\r\n            </section>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className={classes.List}>\r\n            <h1>Page: {pageCount}</h1>\r\n            {loadedCharacters.result.map(character =>\r\n            <DisplayCharacter character={character}/>\r\n            )}\r\n            <div className={classes.buttonContainer}>\r\n                <button onClick={previousPageHandler}>previous page</button>\r\n                <button onClick={nextPageHandler}>next page</button>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    function previousPageHandler(){\r\n        if(Number(pageCount) > 1)\r\n        setPageCount(Number(pageCount) - 1);\r\n    }\r\n    function nextPageHandler(){\r\n        if(Number(pageCount) * 10 < loadedCharacters.count)\r\n        setPageCount(Number(pageCount) + 1);\r\n    }\r\n\r\n}\r\n\r\nexport default AllCharactersPage;\r\n"],"mappings":"2JAAA,OAAQA,QAAR,CAAkBC,SAAlB,KAAkC,OAAlC,CACA,MAAOC,iBAAP,KAA6B,2CAA7B,CACA,MAAOC,QAAP,KAAoB,0BAApB,C,wFAEA,QAASC,kBAAT,EAA6B,CACzB,cAAkCJ,QAAQ,CAAC,IAAD,CAA1C,wCAAOK,SAAP,eAAkBC,YAAlB,eACA,eAAgDN,QAAQ,CAAC,EAAD,CAAxD,yCAAOO,gBAAP,eAAyBC,mBAAzB,eACA,eAAkCR,QAAQ,CAAGS,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,GAA3B,CAAD,CAAkC,CAAlC,CAAF,CAA1C,yCAAOC,SAAP,eAAkBC,YAAlB,eAEAb,SAAS,CAAC,UAAM,CACZK,YAAY,CAAC,IAAD,CAAZ,CACAS,KAAK,+CAAwCF,SAAxC,EAAL,CACEG,IADF,CACO,SAAAC,QAAQ,CAAI,CACf,MAAOA,SAAQ,CAACC,IAAT,EAAP,CACH,CAHD,EAGGF,IAHH,CAGQ,SAAAG,IAAI,CAAI,CAEZb,YAAY,CAAC,KAAD,CAAZ,CACAE,mBAAmB,CAACW,IAAD,CAAnB,CACH,CAPD,EAQH,CAVQ,CAUN,CAACN,SAAD,CAVM,CAAT,CAaA,GAAIR,SAAJ,CAAe,CACX,mBACI,sCACI,iCADJ,EADJ,CAKH,CAED,mBACI,aAAK,SAAS,CAAEF,OAAO,CAACiB,IAAxB,wBACI,+BAAWP,SAAX,GADJ,CAEKN,gBAAgB,CAACc,MAAjB,CAAwBC,GAAxB,CAA4B,SAAAC,SAAS,qBACtC,KAAC,gBAAD,EAAkB,SAAS,CAAEA,SAA7B,EADsC,EAArC,CAFL,cAKI,aAAK,SAAS,CAAEpB,OAAO,CAACqB,eAAxB,wBACI,eAAQ,OAAO,CAAEC,mBAAjB,2BADJ,cAEI,eAAQ,OAAO,CAAEC,eAAjB,uBAFJ,GALJ,GADJ,CAaA,QAASD,oBAAT,EAA8B,CAC1B,GAAGE,MAAM,CAACd,SAAD,CAAN,CAAoB,CAAvB,CACAC,YAAY,CAACa,MAAM,CAACd,SAAD,CAAN,CAAoB,CAArB,CAAZ,CACH,CACD,QAASa,gBAAT,EAA0B,CACtB,GAAGC,MAAM,CAACd,SAAD,CAAN,CAAoB,EAApB,CAAyBN,gBAAgB,CAACqB,KAA7C,CACAd,YAAY,CAACa,MAAM,CAACd,SAAD,CAAN,CAAoB,CAArB,CAAZ,CACH,CAEJ,CAED,cAAeT,kBAAf"},"metadata":{},"sourceType":"module"}